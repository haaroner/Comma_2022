#pragma once

#include "project_config.h"
#include "pin_setup.h"
#include "SPI.h"


namespace Spi_3
{
    void spi_init(int mode, int work_mode, int direction, int dataSize, int baudRate, int firstBit);
    void spi_deinit();
    void send(uint16_t data);
    uint16_t read();
    uint8_t available();
    SPI_TypeDef *_SPIx;
    int _spi_mode;
    int _spi_work_mode;
    int _spi_num;
    int _spi_direction;
    int _data_size;
    int _baud_rate;
    int _first_bit;
    uint16_t _data;
    uint16_t _rx_buffer[8];
    uint16_t _cur_rx_read;
    uint16_t _cur_rx_write;
    uint16_t _buf_size_extern;
};
